<!DOCTYPE html>
<html>

<head>
  <title>Konva demo</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="../my-styles/style.css">
  <link rel="shortcut icon" href="./favicon.ico" />
</head>

<body>
  <div id="containerbkg"></div>
  <div id="scroll-container">
    <div id="containermain">
      <div id="C3">
        <div id="boundingrect" class="boundingrect"></div>
        <div id="selectingrect" class="selectingrect"></div>
      </div>
    </div>
  </div>

  <div id='app'>
    <div id="top" style="z-index: 999;">
      <b-navbar toggleable="lg" type="light" variant="outline-primary">
        <b-navbar-brand href="#">
          <img src="../assets/p8star.svg" class="logo d-inline-block align-top" alt="Kitten">
          <span class='lkh' id="greeting">KFEngine</span>
        </b-navbar-brand>

        <b-navbar-toggle target="nav-collapse"></b-navbar-toggle>

        <b-collapse id="nav-collapse" is-nav>
          <b-navbar-nav>
            <b-nav-item href="#"></b-nav-item>
            <b-button-group>
              <b-button variant="outline-success" href="javascript:newTpl()">
                <b-icon icon="document"></b-icon> New
              </b-button>
              <b-button variant="outline-success">
                <b-icon icon="cloud-download"></b-icon> Open
              </b-button>
              <b-button variant="outline-success" @click="save()">
                <b-icon icon="cloud-upload"></b-icon> Save
              </b-button>
              <b-button variant="outline-success">
                <b-icon icon="trash"></b-icon> Delete
              </b-button>
            </b-button-group>
            <b-button-group>
              <b-button variant="outline-success">
                <b-icon icon="play"></b-icon> Resume
              </b-button>
              <b-button variant="outline-success">
                <b-icon icon="pause"></b-icon> Pause
              </b-button>
              <b-button variant="outline-success">
                <b-icon icon="stop"></b-icon> Stop
              </b-button>
              <b-button :variant="lockMode?'primary':'outline-success'">
                <b-icon icon="stop"></b-icon> MAGIC
              </b-button>
            </b-button-group>
          </b-navbar-nav>

          <!-- Right aligned nav items -->
          <b-navbar-nav class="ml-auto">
            <b-nav-form>
              <b-form-input size="sm" class="mr-sm-2" placeholder="Search"></b-form-input>
              <b-button size="sm" class="my-2 my-sm-0" type="submit">Search</b-button>
            </b-nav-form>

            <b-nav-item-dropdown text="Lang" right>
              <b-dropdown-item href="#">EN</b-dropdown-item>
              <b-dropdown-item href="#">ES</b-dropdown-item>
              <b-dropdown-item href="#">RU</b-dropdown-item>
              <b-dropdown-item href="#">FA</b-dropdown-item>
            </b-nav-item-dropdown>

            <b-nav-item-dropdown right>
              <!-- Using 'button-content' slot -->
              <template v-slot:button-content>
                <em>User</em>
              </template>
              <b-dropdown-item href="#">Profile</b-dropdown-item>
              <b-dropdown-item href="#">Sign Out</b-dropdown-item>
            </b-nav-item-dropdown>
          </b-navbar-nav>
        </b-collapse>
      </b-navbar>
    </div>
    <div id="left" class="bg-white" style="z-index: 999;">
      <b-list-group>
        <b-list-group-item class="d-flex align-items-center" @click="setMode('pointer');" :active="active['pointer']">
          <b-img :src="images['pointer'].src" fluid alt="" scale="2" class="cocotool"></b-img>
        </b-list-group-item>
        <b-list-group-item class="d-flex align-items-center" @click="setMode('p8star');" :active="active['p8star']">
          <b-img :src="images['p8star'].src" fluid alt="" scale="2" class="cocotool"></b-img>
        </b-list-group-item>
        <b-list-group-item class="d-flex align-items-center" @click="setMode('pin');" :active="active['pin']">
          <b-img :src="images['pin'].src" fluid alt="" scale="2" class="cocotool"></b-img>
        </b-list-group-item>
        <b-list-group-item class="d-flex align-items-center" @click="setMode('text');" :active="active['text']">
          <b-img :src="images['text'].src" fluid alt="" scale="2" class="cocotool"></b-img>
        </b-list-group-item>
        <b-list-group-item class="d-flex align-items-center" @click="setMode('yellowtip');"
          :active="active['yellowtip']">
          <b-img :src="images['yellowtip'].src" fluid alt="" scale="2" class="cocotool"></b-img>
        </b-list-group-item>
        <b-list-group-item class="d-flex align-items-center" @click="setMode('line');" :active="active['line']">
          <b-img :src="images['line'].src" fluid alt="" scale="2" class="cocotool" id='tool_line'></b-img>
        </b-list-group-item>
        <b-list-group-item class="d-flex align-items-center" @click="setMode('textblock');"
          :active="active['textblock']">
          <b-img :src="images['textblock'].src" fluid alt="" scale="2" class="cocotool"></b-img>
        </b-list-group-item>
      </b-list-group>
    </div>
    <div id="right">
      <b-tabs v-show="show.shape_property" v-model="model.rightTabIndex" content-class="mt-3" justified>
        <b-tab title="样式">
          <p v-show="show.customshape">I'm the first tab</p>
          <b-container v-show="show.customshape">
            <b-row>
              <b-col>背景颜色</b-col>
              <b-col><input name="shapeBgColor" id="shapeBgColor" /></b-col>
            </b-row>
            <b-row>
              <b-col>边框颜色</b-col>
              <b-col><input name="shapeBorderColor" id="shapeBorderColor" /></b-col>
            </b-row>
            <b-row>
              <b-col>边框粗细</b-col>
              <b-col><input class='selector' size=3 id="spinner_border_width" name="value_bw" /></b-col>
            </b-row>
            <b-row>
              <b-col>圆角度数</b-col>
              <b-col><input class='selector' size=3 id="spinner_border_radius" name="value_rad" /></b-col>
            </b-row>
          </b-container>
          <b-container v-if="show.customyellowtip">
            <b-row>
              <b-col>YT样式</b-col>
              <b-col></b-col>
            </b-row>
          </b-container>
        </b-tab>
        <b-tab title="文本">
          <p>I'm the second tab</p>
          <b-container v-show="show.text_property">
            <b-row>
              <b-col>文本字体</b-col>
            </b-row>
            <b-row>
              <b-col><input class="fonts"></b-col>
            </b-row>
            <b-row>
              <b-col>文本颜色</b-col>
              <b-col><input name="fontColor" id="fontColor" /></b-col>
            </b-row>
            <b-row>
              <b-col>文本位置</b-col>
              <b-col><b-form-select id="textAlign" v-model="model.textAlign" :options="model.textAlignOptions" size="sm" class="mt-3" @change="textAlignChanged"></b-form-select></b-col>
            </b-row>
          </b-container>
        </b-tab>
        <b-tab title="排列">
          <b-button-toolbar v-show="show.arrange_multi_nodes" key-nav class="w-100 justify-content-md-center">
            <b-button-group class="d-flex w-100">
              <b-button variant="light" title="对齐左侧" class="flex-fill p-0" @click="KfkAlign('left')"><img
                  src="../assets/align_left.svg" class="toolbar"></b-button>
              <b-button variant="light" title="对齐垂直中线" class="flex-fill p-0" @click="KfkAlign('center')"><img
                  src="../assets/align_center.svg" class="toolbar"></b-button>
              <b-button variant="light" title="对齐右侧" class="flex-fill p-0" @click="KfkAlign('right')"><img
                  src="../assets/align_right.svg" class="toolbar"></b-button>
              <b-button variant="light" title="对齐顶部" class="flex-fill p-0" @click="KfkAlign('top')"><img
                  src="../assets/align_top.svg" class="toolbar"></b-button>
              <b-button variant="light" title="对齐水平中线" class="flex-fill p-0" @click="KfkAlign('middle')"><img
                  src="../assets/align_middle.svg" class="toolbar"></b-button>
              <b-button variant="light" title="对齐底部" class="flex-fill p-0" @click="KfkAlign('bottom')"><img
                  src="../assets/align_bottom.svg" class="toolbar"></b-button>
            </b-button-group>
          </b-button-toolbar>
          <b-button-toolbar v-show="show.arrange_multi_nodes" key-nav class="w-100 justify-content-md-center">
            <b-button-group class="d-flex w-100">
              <b-button variant="light" class="flex-fill" title="横向均匀分布" @click="KfkAlign('hori')"><img
                  src="../assets/align_hori.svg" class="toolbar"></b-button>
              <b-button variant="light" class="flex-fill" title="纵向均匀分布" @click="KfkAlign('vert')"><img
                  src="../assets/align_vert.svg" class="toolbar"></b-button>
            </b-button-group>
          </b-button-toolbar>
        </b-tab>
      </b-tabs>
      <b-tabs v-show="!show.shape_property" content-class="mt-3" justified>
        <b-tab title="COCOPAD" active>
          <p>欢迎使用</p>
          <b-checkbox id="cb-showgrid" v-model="model.showGrid" name="cb-showgrid" switch @change="showGridChanged">
            显示网格线
          </b-checkbox>
          <b-checkbox v-model="model.snap" switch @change="snapChanged">对齐到网格
          </b-checkbox>
          <p> </p>
          <b-container class="mt-3">
            <b-row>
              <b-col>背景颜色</b-col>
              <b-col><input name="cocoBgColor" id="cocoBgColor" /></b-col>
            </b-row>
          </b-container>
        </b-tab>
        </b-tab>
      </b-tabs>
    </div>
    <div id="rtcontrol">
      <b-button-group>
        <b-button id="toggle_all" variant="outline-success" href="javascript:newTpl()">
          <b-icon icon="arrows-fullscreen"></b-icon>
        </b-button>
        <b-button id="toggle-right" variant="outline-success">
          <b-icon icon="layout-sidebar-reverse"></b-icon>
        </b-button>
      </b-button-group>
    </div>
    <div id="modeIndicator" style="position:absolute; top: 0px; left: 0px; display: none; ">
      <img id="modeIndicatorImg" src="../assets/pointer.svg" style='width: 18px; height: 18px;' />
    </div>
    <img id="linetransformer" src="../assets/linetransformer.svg"
      style="position: absolute; top:0px; left:0px; width: 20px; height: 20px; z-index: 9999; display: none;" />
    <div id="MSG" class="msgarea">{{model.msg}}</div>
  </div>
  <script src="./index.js"></script>
</body>

</html>